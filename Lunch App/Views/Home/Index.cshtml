@model Lunch_App.Models.IndexVM

@{
    ViewBag.Title = "LunchConnect";
}


<div class="indexButtons">
    <div class="btn btn-lg btn-warning col-md-offset-8">
        @Html.ActionLink("Create New Lunch", "CreateLunch")
    </div>


    <div class="btn btn-lg btn-default">
        @Html.ActionLink("Add a Resturant", "CreateResturant")
    </div>
</div>


@if (Model.LunchReadyToPick.Count() != 0)
{
    foreach (var l in Model.LunchReadyToPick)
    {
        <div class="alert alert-success PickLunch">
            @Html.ActionLink("It's time to pick a place to go for lunch!", "PickLunch", new { Id = l })
        </div>
    }
}


@if (@Model.WaitingOnSurveys)
{
    <div class="alert alert-danger col-md-10 col-md-offset-1 Waiting">
        You're waiting for surveys to be finished before you pick a place for lunch
    </div>
    <br />
}



@if (Model.OutstandingSurveys.Count() != 0)
{
    <div class="row OutstandingSurveys">
        @foreach (var s in Model.OutstandingSurveys)
        {
            <div class="btn btn-info col-md-offset-3 col-md-6 OutstandingSurveyBtn">
                @Html.ActionLink("You have an outstanding survey, click to fill it out and connect for lunch!", "EditSurvey", new { Id = s })
            </div>

                <br />
        }
    </div>

}

<br />

<div class="row">

    <div class="list-group col-md-5 com-md-offset-1">
        <div class="list-group-item active">Your Lunches:</div>
        @foreach (var l in Model.Lunches)
        {
            <div class="list-group-item">
                @l.MeetingDateTime
                @if (l.ResturantSelected)
                {
                    <span> at @Html.ActionLink(@l.ResturantName, "ResturantDetails", new { Id = l.ResturantId }) </span>
                }
            </div>
        }
    </div>
</div>
